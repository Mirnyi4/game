...
          bushes.forEach((bush, bushIndex) => {
            const dx = b.x - bush.x;
            const dy = b.y - bush.y;
            const dist = Math.sqrt(dx*dx + dy*dy);
            if (dist < bush.r && b.size > 40) {
              for (let k = 0; k < 6; k++) {
                balls.push({
                  x: b.x, y: b.y,
                  dx: (Math.random() - 0.5) * 2,
                  dy: (Math.random() - 0.5) * 2,
                  size: 10,
                  flag: b.flag, color: b.color, team: b.team,
                  animating: false, animationProgress: 0
                });
              }
              bushes.splice(bushIndex, 1);
              balls.splice(i, 1);
            }
          });
...
